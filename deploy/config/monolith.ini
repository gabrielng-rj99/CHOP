[server]
backend_port = 3000
frontend_port = 8080
host = 0.0.0.0
port = ${backend_port}
request_timeout = 30
read_timeout = 15
write_timeout = 15
idle_timeout = 60

# CORS for local development
# Frontend rodará em porta diferente (Vite dev server)
cors_allowed_origins = http://localhost:${frontend_port},http://localhost:${backend_port},http://127.0.0.1:${frontend_port},http://127.0.0.1:${backend_port}
cors_allowed_methods = GET,POST,PUT,DELETE,OPTIONS,PATCH
cors_allowed_headers = Content-Type,Authorization,X-Requested-With
cors_expose_headers = Content-Length,X-Total-Count
cors_allow_credentials = true
cors_max_age = 3600

[database]
# Local PostgreSQL
host = localhost
port = 5432
name = contracts_manager
user = postgres
# password = será definido via variável de ambiente ou painel de inicialização
ssl_mode = disable
max_open_conns = 10
max_idle_conns = 5
conn_max_lifetime = 180

[jwt]
expiration_time = 60
refresh_expiration_time = 10080
algorithm = HS256
# secret = será definido via variável de ambiente ou painel de inicialização

[logging]
enabled = true
level = info
format = text
file = backend/server.log
max_size = 5
max_backups = 3
max_age = 30

[security]
password_min_length = 16
password_require_uppercase = true
password_require_lowercase = true
password_require_numbers = true
password_require_special = true
max_failed_attempts = 5
lockout_duration_minutes = 30
lock_levels = 3
lock_level_1_attempts = 3
lock_level_1_duration_minutes = 5
lock_level_2_attempts = 5
lock_level_2_duration_minutes = 15
lock_level_3_attempts = 8
lock_level_3_duration_minutes = 60
lock_level_manual_attempts = 10

[application]
env = development
version = 1.0.0
name = Contract Manager

[paths]
schema_file = ./backend/database/schema.sql
migrations_dir = ./backend/migrations
logs_dir = ./backend/logs
reports_dir = ./backend/reports
